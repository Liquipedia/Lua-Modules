/*******************************************************************************
Template(s): Tab Templates
Author(s): FO-nTTaX
*******************************************************************************/

// Variables
$tabs-border-radius: 0.25rem;
$tabs-active-indicator-height: 4px;
$tabs-nav-padding: 12px;
$tabs-nav-padding-nested: 8px 12px;
$tabs-arrow-width: 32px;

// Theme Colors - Light
$tabs-border-light: var( --clr-secondary-90 );
$tabs-text-light: var( --clr-secondary-39 );
$tabs-text-active-light: var( --clr-secondary-16 );
$tabs-bg-active-light: var( --clr-on-surface-light-primary-4 );
$tabs-bg-hover-light: var( --clr-on-surface-light-primary-4 );

// Theme Colors - Dark
$tabs-border-dark: var( --clr-secondary-25 );
$tabs-text-dark: var( --clr-secondary-80 );
$tabs-text-active-dark: var( --clr-secondary-100 );
$tabs-bg-active-dark: var( --clr-on-surface-dark-primary-8 );
$tabs-bg-hover-dark: var( --clr-on-surface-dark-primary-8 );

/* SHARED CONTENT AREA */
.tabs-content {
	border: 2px solid;
	border-top: 0;
	padding: 5px;

	.theme--light & {
		border-color: inherit;
	}

	.theme--dark & {
		border-color: $tabs-border-dark;
	}

	& > div:not( .active ) {
		display: none;
	}

	div {
		overflow: auto hidden;
	}
}

html.client-nojs .tabs-content > div:not( .active ) {
	display: block;
}

/* DYNAMIC TABS */
.tabs-dynamic {
	overflow: visible;

	& > .tabs-content {
		border: unset !important;
		padding: 0.5rem 0 0 0.5rem;
	}

	.tabs-nav-wrapper {
		position: relative;
		display: flex;
		align-items: stretch;
		border-bottom: 1px solid;
		margin-bottom: 0;

		.theme--light & {
			border-bottom-color: $tabs-border-light;
		}

		.theme--dark & {
			border-bottom-color: $tabs-border-dark;
		}
	}

	.nav-tabs {
		display: flex;
		flex-wrap: nowrap;
		overflow-x: auto;
		-ms-overflow-style: none;
		scrollbar-width: none;
		border: unset !important;
		margin: 0 !important;
		padding: 0;
		list-style: none;
		flex: 1;

		&::-webkit-scrollbar {
			display: none;
		}

		li {
			float: none !important;
			flex: 0 0 auto;
			margin: 0;
			border: unset !important;
			padding: 0;
			font-weight: bold;
			cursor: pointer;
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: transparent !important;
			border-radius: $tabs-border-radius $tabs-border-radius 0 0;

			a {
				display: flex;
				align-items: center;
				padding: $tabs-nav-padding;
				font-size: 14px;
				line-height: 20px;
				text-decoration: none !important;
				transition: all 0.2s ease;
				outline: 0;
				border: unset !important;
				white-space: nowrap;
				background-color: transparent !important;
				border-radius: 0 !important;

				// Icons within tabs
				i,
				.fad,
				.fas,
				.far {
					margin-right: 8px;
					font-size: 16px;
				}

				// Icon-only support
				&:empty,
				span:empty {
					padding: $tabs-nav-padding;
				}

				.theme--light & {
					color: $tabs-text-light;

					&:hover {
						color: $tabs-text-active-light;
						background-color: $tabs-bg-hover-light !important;
					}
				}

				.theme--dark & {
					color: $tabs-text-dark;

					&:hover {
						color: $tabs-text-active-dark;
						background-color: $tabs-bg-hover-dark !important;
					}
				}
			}

			&.active {
				&::after {
					content: "";
					position: absolute;
					bottom: 0;
					left: 0;
					right: 0;
					height: $tabs-active-indicator-height;
					background-color: var( --clr-wiki-theme-primary, #0d61a4 );
				}

				.theme--light & {
					background-color: $tabs-bg-active-light !important;

					a {
						color: $tabs-text-active-light;
					}
				}

				.theme--dark & {
					background-color: $tabs-bg-active-dark !important;

					a {
						color: $tabs-text-active-dark;
					}
				}
			}

			&.hover {
				.theme--light & {
					background-color: $tabs-bg-hover-light !important;
				}

				.theme--dark & {
					background-color: $tabs-bg-hover-dark !important;
				}
			}
		}
	}

	/* Scroll Arrows */
	.tabs-scroll-arrow {
		display: none;
		position: absolute;
		top: 0;
		bottom: 0;
		width: $tabs-arrow-width;
		z-index: 10;
		cursor: pointer;
		align-items: center;
		justify-content: center;
		background: var( --clr-on-background );

		&.visible {
			display: flex;
		}

		&::before {
			content: "";
			display: inline-block;
			width: 8px;
			height: 8px;
			border-top: 2px solid;
			border-right: 2px solid;
		}

		&.left {
			left: 0;

			&::before {
				transform: rotate( -135deg );
				margin-left: 4px;
			}
		}

		&.right {
			right: 0;

			&::before {
				transform: rotate( 45deg );
				margin-right: 4px;
			}
		}

		.theme--light & {
			&::before {
				border-color: $tabs-text-light;
			}
		}

		.theme--dark & {
			&::before {
				border-color: $tabs-text-dark;
			}
		}
	}

	/* Nested Variation */
	.tabs-content & {
		.tabs-nav-wrapper {
			margin-left: 12px;
		}

		.nav-tabs li a {
			padding: $tabs-nav-padding-nested;
		}
	}
}

/* STATIC TABS */
.tabs-static {
	overflow: hidden;

	.nav-tabs {
		margin-bottom: 0;

		li {
			float: left;
			border: 2px solid;
			border-bottom: 0 !important;
			cursor: pointer;

			&:not( .active ) {
				cursor: pointer;
			}

			a {
				display: block;
				padding: 5px 10px;
				line-height: 1.42857143;
				border: 1px solid transparent;
				outline: 0;
				position: relative;
			}

			// Specific alignment for team templates in static tabs
			.team-template-team-standard {
				white-space: nowrap;

				& > * {
					float: left;
				}
			}

			.team-template-image-legacy > *,
			.team-template-image-icon > * {
				padding-right: 0;
			}

			.team-template-text > * {
				padding-left: 0;
			}

			&.active {
				background-color: #ffffff;
			}
		}
	}
}

/* PORTAL TABS */
.tabs-portal {
	& > .tabs {
		border: 0;
		margin-bottom: 0;
		margin-left: 12px;

		li {
			border-bottom: 0;
			font-size: 150%;
			font-weight: bold;
			position: relative;
			z-index: 1;

			&.active {
				z-index: 3;
				background-color: #ffffff;
			}
		}
	}

	.tabs-portal-content-wrapper {
		border: 2px solid;
		padding: 5px;
		margin-top: -7px;
		z-index: 2;
		position: relative;
	}

	.tabs-portal-content {
		border: 2px solid;
		background-color: #ffffff;
		padding: 5px;
		overflow: auto hidden;
	}
}

/* Smash Specific */
.tabs-static-games > .nav-tabs > li {
	&:first-of-type {
		margin-right: 0;
	}

	&:last-of-type {
		margin-right: 2px;
	}
}
